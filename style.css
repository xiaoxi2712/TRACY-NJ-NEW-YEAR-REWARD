/* ================= FULLSCREEN ================= */
* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; width: 100%; overflow: hidden; }

#game { position: fixed; inset: 0; width: 100%; height: 100%; overflow: hidden; }

/* Background full screen */
#game .bg { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; z-index:0; }
.tree-wrap {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  height: 98vh;
  aspect-ratio: 1 / 2;
  z-index: 1;
}

.tree {
  height: 100%;
  display: block;
  pointer-events: none;
}
#program-info {
  position: absolute;
  top: 30%; /* căn giữa theo chiều cao cây */
  right: 45%; /* điểm gốc của cây */
  transform: translate(150%, -50%); /* dịch sang phải khoảng 2 cây t.png */
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* căn phải nội dung sát cây */
  pointer-events: none;
  z-index: 3;
}

#program-name {
  color: #fff;
  font-size: 30px;
  font-weight: 700;
  text-shadow: 2px 2px 6px rgb(2, 0, 0);
}
#program-detail{
  color: #fff;
  font-size: 25px;
  font-weight: 500;
  text-shadow: 2px 2px 6px rgb(2, 0, 0);
}

#program-game-info {
  color: #fffefe;
  font-size: 20px;
  font-weight: 500;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
}

@media (max-width: 768px) {
  #program-name { font-size: 50px; }
  #program-detail { font-size: 30px; }
  #program-game-info {font-size: 30px; }
}
/* Hộp quà */
.gifts {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.gift {
  position: absolute;
  width: 18%;
  aspect-ratio: 1 / 1;
  pointer-events: auto;
}

.gift img {
  width:100%;
  height:100%;
  object-fit:contain;
  transition: transform 400ms ease;
  transform-origin: center bottom;
}
/* Size dây pháo */
.gift {
  position: absolute;
  width: calc(75vh * 0.20);
  height: calc(75vh * 0.20);
}

/* Treo theo tán cây */
.gift[data-index="0"] { top: 42%; left: -3%; }
.gift[data-index="1"] { top: 44%; left: 10%; }
.gift[data-index="2"] { top: 45%; left: 23%; }
.gift[data-index="3"] { top: 45%; left: 51%; }
.gift[data-index="4"] { top: 48%; left: 62%; }
.gift[data-index="5"] { top: 45%; left: 80%; }




/* Hover nổi + rung nhẹ (không bóng) */
.gift:hover img { animation:hoverSwing 0.8s ease-in-out infinite alternate; }
@keyframes hoverSwing {
  0% { transform:translateY(-10%) scale(1.08) rotate(-3deg); }
  50% { transform:translateY(-12%) scale(1.08) rotate(2deg); }
  100% { transform:translateY(-10%) scale(1.08) rotate(-3deg); }
}
.gift.opened img { animation:none; transform:none; }
.gift.opening img { transform-origin:center; transform:scale(0.92) rotate(-6deg); }

/* Popup */
#popup { position:fixed; left:50%; top:30%; transform:translate(-50%,-50%); z-index:10; pointer-events:none; }
#popup[aria-hidden="true"] { display:none; }
#popup-content {
  background:#2ecc71; color:#000; padding:20px 28px; border-radius:16px;
  display:flex; align-items:center; gap:18px; box-shadow:0 0 40px rgba(0,0,0,0.4);
  pointer-events:none; width:max-content; max-width:360px;
}
#popup-box { width:90px; height:90px; object-fit:contain; }
#popup-text { font-size:22px; font-weight:700; line-height:1.3; text-align:left; }

/* Replay */
#replay {
  position:absolute; left:50%; bottom:10%; transform:translateX(-50%);
  padding:10px 16px; background:white; border:2px solid #222; border-radius:10px; font-weight:bold; z-index:6;
}

/* FX Canvas */
#fxCanvas { position:absolute; inset:0; width:100%; height:100%; z-index:4; pointer-events:none; }
#snowCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* không chặn click */
  z-index: 1; /* phía trên background nhưng dưới popup */
}